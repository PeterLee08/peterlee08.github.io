<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  

  
  <title>qifeng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="qifeng">
<meta property="og:url" content="http://qifeng.github.io/index.html">
<meta property="og:site_name" content="qifeng">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="qifeng">
  
    <link rel="alternate" href="/atom.xml" title="qifeng" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">qifeng</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://qifeng.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-人脸检测" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/10/人脸检测/" class="article-date">
  <time datetime="2018-06-09T16:00:00.000Z" itemprop="datePublished">2018-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/10/人脸检测/">人脸检测</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="dlib人脸检测和特征点识别"><a href="#dlib人脸检测和特征点识别" class="headerlink" title="dlib人脸检测和特征点识别"></a>dlib人脸检测和特征点识别</h1><h3 id="1-检测"><a href="#1-检测" class="headerlink" title="1.检测"></a>1.检测</h3><blockquote>
<ul>
<li>检测器旋转后检测效果不佳   </li>
<li>使用dlib的68点特征点,不结合识别box的话有点离谱</li>
</ul>
</blockquote>
<h4 id="1-人脸检测基本步骤"><a href="#1-人脸检测基本步骤" class="headerlink" title="1).人脸检测基本步骤"></a>1).人脸检测基本步骤</h4><ul>
<li><p>检出区域</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">detector = dlib.get_frontal_face_detector</span><br><span class="line">dets = detector(img,<span class="number">1</span>)</span><br><span class="line"><span class="comment">#dets 识别所有脸</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对每张脸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for idx,face in enumerate(dets):</span><br></pre></td></tr></table></figure>
</li>
<li><p>画框</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.rectangle(img, (d.left(),d.top()),(d.right(),d.bottom()),(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果有特征点识别</p>
</li>
<li style="list-style: none"><input type="checkbox"> 要先下载68点检测model<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mod = <span class="string">"shape_predictor_68_face_landmarks.dat"</span></span><br><span class="line">predictor = dlib.shape_predictor(mod)</span><br><span class="line">shape = predictor(img,d)</span><br><span class="line"><span class="comment"># shape 68点称为68parts</span></span><br><span class="line">landmard = np.array([[p.x,p.y] <span class="keyword">for</span> p <span class="keyword">in</span> shape.parts()])</span><br><span class="line"><span class="comment"># b 为每个特征点</span></span><br><span class="line"><span class="keyword">for</span> partidx, b <span class="keyword">in</span> enumerate(landmard):</span><br><span class="line">        img = cv2.circle(img, (b[<span class="number">0</span>],b[<span class="number">1</span>]), <span class="number">2</span>, (<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shape_predictor_landmark</span><span class="params">(img)</span>:</span></span><br><span class="line">   mod = <span class="string">"shape_predictor_68_face_landmarks.dat"</span></span><br><span class="line">   predictor = dlib.shape_predictor(mod)</span><br><span class="line">   img = cv2.imread(img)</span><br><span class="line">   b,g,r = cv2.split(img)</span><br><span class="line">   img = cv2.merge([r,g,b])</span><br><span class="line">   <span class="comment">#人脸检测器</span></span><br><span class="line">   detector = dlib.get_frontal_face_detector()</span><br><span class="line">   dets = detector(img,<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">for</span> k,d <span class="keyword">in</span> enumerate(dets):</span><br><span class="line">       <span class="comment">#人脸特征点识别</span></span><br><span class="line">       shape = predictor(img,d)</span><br><span class="line">       landmard = np.array([[p.x,p.y] <span class="keyword">for</span> p <span class="keyword">in</span> shape.parts()])</span><br><span class="line">       ls,ll = landmard.shape</span><br><span class="line">       img = cv2.rectangle(img, (d.left(),d.top()),(d.right(),d.bottom()),(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line">       <span class="comment">#print(landmard)</span></span><br><span class="line">       <span class="keyword">for</span> i <span class="keyword">in</span> np.arange(ls):</span><br><span class="line">           img = cv2.circle(img, (landmard[i][<span class="number">0</span>],landmard[i][<span class="number">1</span>]), <span class="number">2</span>, (<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br><span class="line">   plt.imshow(img)</span><br></pre></td></tr></table></figure>
<h3 id="2-检测不到旋转检测"><a href="#2-检测不到旋转检测" class="headerlink" title="2. 检测不到旋转检测"></a>2. 检测不到旋转检测</h3><blockquote>
<ul>
<li>dlib旋转不正对特征点识别还是有不小影响后面需要解决</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">angle = <span class="number">270</span></span><br><span class="line">scale = <span class="number">1</span></span><br><span class="line">rows,cols,channel = img.shape</span><br><span class="line">m = cv2.getRotationMatrix2D((cols/<span class="number">2</span>,rows/<span class="number">2</span>),angle,scale)</span><br><span class="line">img = cv2.warpAffine(img,m,(cols,rows))</span><br></pre></td></tr></table></figure>
<h2 id="3-从图片中切出人脸"><a href="#3-从图片中切出人脸" class="headerlink" title="3. 从图片中切出人脸"></a>3. 从图片中切出人脸</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">detector = dlib.get_frontal_face_detector()</span><br><span class="line">dets = detector(img,<span class="number">2</span>)</span><br><span class="line">faces = dlib.full_object_detections()</span><br><span class="line"><span class="keyword">for</span> k,d <span class="keyword">in</span> enumerate(dets):</span><br><span class="line">    shape = predictor(img,d)</span><br><span class="line">    faces.append(shape)</span><br><span class="line">images = dlib.get_face_chips(img,faces)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://qifeng.github.io/2018/06/10/人脸检测/" data-id="cji8b00yy00022ko7gz4084vj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-spring日志" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/10/spring日志/" class="article-date">
  <time datetime="2018-06-09T16:00:00.000Z" itemprop="datePublished">2018-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/10/spring日志/">spring日志</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-动态级别"><a href="#一-动态级别" class="headerlink" title="一.动态级别"></a>一.动态级别</h1><h2 id="1-日志api方式"><a href="#1-日志api方式" class="headerlink" title="1. 日志api方式"></a>1. 日志api方式</h2><blockquote>
<p>logback(log4j)<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger logger = LoggerFactory.getLogger(LogController.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"logLevel/&#123;logLevel&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">changeLogLevel</span><span class="params">(@PathVariable(<span class="string">"logLevel"</span>)</span> String logLevel) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();</span><br><span class="line">            loggerContext.getLogger(<span class="string">"org.mybatis"</span>).setLevel(Level.valueOf(logLevel));</span><br><span class="line">            loggerContext.getLogger(<span class="string">"org.springframework"</span>).setLevel(Level.valueOf(logLevel));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            logger.error(<span class="string">"动态修改日志级别出错"</span>, e);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"fail"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="1-针对root-logger"><a href="#1-针对root-logger" class="headerlink" title="1. 针对root logger"></a><strong>1. 针对root logger</strong></h4><ul>
<li>log4j.rootLogger=INFO, A<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Logger.getRootLogger().setLevel(org.apache.log4j.Level.DEBUG)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-针对Appender"><a href="#2-针对Appender" class="headerlink" title="2. 针对Appender"></a><strong>2. 针对Appender</strong></h4><ul>
<li>log4j.appender.A.Threshold=DEBUG<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AppenderSkeleton appender = (AppenderSkeleton)Logger.getRootLogger().getAppender(<span class="string">"A"</span>));</span><br><span class="line">appender.setThreshold(Priority.DEBUG);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="3-针对包"><a href="#3-针对包" class="headerlink" title="3. 针对包"></a><strong>3. 针对包</strong></h4><ul>
<li><ul>
<li>方式一.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#输出com.roy.busi包下类的日志，debug级别，appender是busi</span><br><span class="line">log4j.logger.com.leo.busi=debug,busi</span><br><span class="line">#每日生成新的文件</span><br><span class="line">log4j.appender.busi = org.apache.log4j.DailyRollingFileAppender</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><ul>
<li>方式二   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">log4j.logger.com.neusoft=DEBUG   </span><br><span class="line">log4j.logger.com.opensymphony.oscache=ERROR   </span><br><span class="line">log4j.logger.net.sf.navigator=ERROR   </span><br><span class="line">log4j.logger.org.apache.commons=ERROR</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Logger.getRootLogger().getLogger(<span class="string">"com.xx"</span>).setLevel(DEBUG);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-spring-1-5以后"><a href="#2-spring-1-5以后" class="headerlink" title="2. spring 1.5以后"></a>2. spring 1.5以后</h2><blockquote>
<p>引入 spring-boot-starter-actuator, LoggerFactory获取到当前日志的上下文对象LoggerContext，通过LoggerContext可以获取到指定包的Logger<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();</span><br><span class="line">loggerContext.getLogger(packageName).setLevel(Level.valueOf(logLevel));</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="二-HTTP监控日志"><a href="#二-HTTP监控日志" class="headerlink" title="二.HTTP监控日志"></a>二.HTTP监控日志</h1><ul>
<li><p>logback-access<br>maven依赖<br>修改tomcat中conf/server.xml</p>
<valve classname="ch.qos.logback.access.tomcat.LogbackValve" filename="logback-access.xml">
</valve></li>
<li><p><a href="">Logback-access.xml</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span>  </span><br><span class="line">  <span class="comment">&lt;!-- always a good activate OnConsoleStatusListener --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">statusListener</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.status.OnConsoleStatusListener"</span> /&gt;</span>    </span><br><span class="line">   </span><br><span class="line">  <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FILE"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;catalina.base&#125;/logs/access.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;catalina.base&#125;/logs/access.%d&#123;yyyy-MM-dd&#125;.log.zip<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span>  </span><br><span class="line">   </span><br><span class="line">    <span class="tag">&lt;<span class="name">encoder</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>combined<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">appender</span>&gt;</span>  </span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"FILE"</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="">web.xml</a>  中添加</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>AccessViewStatusMessages<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>ch.qos.logback.access.ViewStatusMessagesServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>  </span><br><span class="line">  </span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span>  </span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>AccessViewStatusMessages<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span>  </span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/lbAccessStatus<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a href="https://logback.qos.ch/access.html" target="_blank" rel="noopener">logback-access详细说明</a></p>
<blockquote>
<p>以上为logback提供,如果非logback或者采用websocket推送信息<br>logback的性能要比log4j好很多</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://qifeng.github.io/2018/06/10/spring日志/" data-id="cji8b00z100042ko7o25lmc15" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python_note" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/24/python_note/" class="article-date">
  <time datetime="2018-05-23T16:00:00.000Z" itemprop="datePublished">2018-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/24/python_note/">pythhon 随手记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一-常用gist"><a href="#一-常用gist" class="headerlink" title="一.常用gist"></a>一.常用gist</h1><ul>
<li>子进程调用<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess <span class="keyword">as</span> sb</span><br><span class="line">p = sb.Popen(<span class="string">'lm -p'</span>,stdout=sb.PIPE,stderr=sb.PIPE,shell=<span class="keyword">True</span>)</span><br><span class="line">p.communicate()</span><br><span class="line">p.returncode</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="二-数据处理"><a href="#二-数据处理" class="headerlink" title="二.数据处理"></a>二.数据处理</h1><ul>
<li><p>空数据处理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df[df[<span class="string">'name'</span>].notnull()]</span><br><span class="line"></span><br><span class="line">df.dropna(thresh=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">df.replace(<span class="string">"\\N"</span>,np.nan,inplace=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">df.fillna(method=<span class="string">"ffill"</span>,inplace=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>重复数据处理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">df3 = df3.reset_index().drop_duplicates(subset=<span class="string">'index'</span>, keep=<span class="string">'last'</span>).set_index(<span class="string">'index'</span>)</span><br><span class="line"></span><br><span class="line">df.duplicated()</span><br><span class="line"><span class="comment">#两行每列完全一样才算重复，后面重复的为True，第一个和不重复的为false，返回true和false组成的Series类型</span></span><br><span class="line"></span><br><span class="line">df.duplicated(<span class="string">'key'</span>)</span><br><span class="line"><span class="comment">#两行key这一列一样就算重复</span></span><br><span class="line"></span><br><span class="line">df[<span class="string">'A'</span>].unique()</span><br><span class="line"><span class="comment">#返回唯一值的数组（类型为array）</span></span><br><span class="line"></span><br><span class="line">df.drop_duplicates([<span class="string">'k1'</span>])</span><br><span class="line"><span class="comment"># 保留k1列中的唯一值的行，默认保留第一行</span></span><br><span class="line"></span><br><span class="line">df.drop_duplicates([<span class="string">'k1'</span>,<span class="string">'k2'</span>], take_last=<span class="keyword">True</span>)</span><br><span class="line"><span class="comment"># 保留 k1和k2 组合的唯一值的行，take_last=True 保留最后一行</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>时间排序等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">"tm"</span>] = pd.to_datetime(df.timestr)</span><br><span class="line"></span><br><span class="line">df.sort_value(by=<span class="string">"col1"</span>,inplace=<span class="keyword">True</span>)</span><br><span class="line">np.ptp() </span><br><span class="line"><span class="comment"># (z.ptp() = z.max()-z.min())</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="三-ml"><a href="#三-ml" class="headerlink" title="三.ml"></a>三.ml</h1><ul>
<li>核密度估计<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自适应带宽核密度估计</span></span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> gaussian_kde</span><br><span class="line">sample = np.random.normal(<span class="number">0.</span>, <span class="number">2.</span>, <span class="number">100</span>)</span><br><span class="line">kde = gaussian_kde(sample)</span><br><span class="line">f = kde.covariance_factor()</span><br><span class="line">bw = f * sample.std()</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://qifeng.github.io/2018/05/24/python_note/" data-id="cji8b00z000032ko75zgs820j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jvm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/13/jvm/" class="article-date">
  <time datetime="2018-05-12T16:00:00.000Z" itemprop="datePublished">2018-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/13/jvm/">jvm内存模型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>java类程序大部分情况下均需jvm虚拟机解释执行(除jit生成机器码和部分硬件内建支持),因此无论内存和性能都存在限制,但也正是解释执行,对系统而言安全性要更高,相较C/C++程序参数配置影响更大</p>
<p>参考资料基于Java SE 7 Edition</p>
</blockquote>
<h1 id="一-jvm内存模型"><a href="#一-jvm内存模型" class="headerlink" title="一. jvm内存模型"></a>一. jvm内存模型</h1><blockquote>
<p>每个java类进程均为一个jvm实例    </p>
<ul>
<li><strong>java进程模型</strong><br><img src="https://github.com/PeterLee08/resources/blob/master/icon/png/java/JVM.png?raw=true" alt="内存模型"></li>
</ul>
</blockquote>
<ol>
<li>class loader     将class文件加载到method area </li>
<li>Execution engine 执行class指令,每个线程一个engine实例</li>
<li>Native interface 和本地库文件交互,进行系统调用</li>
</ol>
<ul>
<li><strong>hotspot 对heap区和methodarea的实现</strong>:   <blockquote>
<p>为减小gc扫描消耗,堆区分成了新生代和老生代,永生代<br>永生代主要存放代码元信息,常量信息</p>
</blockquote>
</li>
</ul>
<p><img src="https://github.com/PeterLee08/resources/blob/master/icon/png/java/fendai.PNG?raw=true" alt="分代实现"></p>
<blockquote>
<p>这块命名如下图(和上图反过来了):<br><img src="https://github.com/PeterLee08/resources/blob/master/icon/png/java/name.PNG?raw=true" alt="命名"></p>
</blockquote>
<ul>
<li>新生代(Young Generation)：用于存放新创建的对象，采用复制回收方法，如果在s0和s1之间复制一定次数后，转移到年老代中。这里的垃圾回收叫做minor GC;</li>
<li>老生代(Old Generation)：这些对象垃圾回收的频率较低，采用的标记整理方法，这里的垃圾回收叫做 major GC。</li>
<li>永生代(Permanent Generation)：存放Java本身的一些数据，当类不再使用时，也会被回收</li>
</ul>
<h1 id="二-jvm垃圾回收"><a href="#二-jvm垃圾回收" class="headerlink" title="二. jvm垃圾回收"></a>二. jvm垃圾回收</h1><h2 id="1-生命周期"><a href="#1-生命周期" class="headerlink" title="1). 生命周期"></a>1). 生命周期</h2><ol>
<li>java 所有对象在伊甸园（Eden space）出生，也即是说当你的JAVA 程序运行时，需要创建新的对象，JVM 将在该区<br>为你创建一个指定的对象供程序使用。创建对象的依据即是永久存储区中的元数<br>据。 </li>
<li>当 Eden 空间不足时，将该区被引用的对象移动到s0区，销毁其他对象</li>
<li>当s0空间也不足时，将被引用对象对象移动到s1区.销毁其他对象</li>
<li>当对象移动到S1区后,s0清空备用, eden再次不足时,移动到s1,s1不足时移动到s0,如此反复, [S0和S1大小等完全一致可以互换] </li>
<li>这样当移动到一定次数后,将年龄大的对象被移动到老生代,或者S0S1移动空间不足时,将引用对象移动到老生代</li>
<li>当老生代空间不足时,销毁老生代不再引用对象,依旧不足,OOM</li>
</ol>
<blockquote>
<p>发生时机也可能在cpu空闲时,或者这jvm设置的定时触发</p>
</blockquote>
<h2 id="2-回收策略"><a href="#2-回收策略" class="headerlink" title="2). 回收策略"></a>2). 回收策略</h2><ul>
<li>新生代的回收最为频繁,要回收的对象多要复制的少,采用复制回收，称为minor GC；</li>
<li>老生待对象垃圾回收的频率较低，每次回收都只回收少量对象, 采用的标记整理方法，这里的垃圾回收叫做 major GC</li>
</ul>
<blockquote>
<p>Copying复制:它将可用内存按容量划分为大小相等的两块，每次只使用其中的一块。当这一块的内存用完了，就将还存活着的对象复制到另外一块上面，然后再把已使用的内存空间一次清理掉，这样一来就不容易出现内存碎片的问题<br>Mark-Sweep（标记-清除）: 标记阶段和清除阶段。标记阶段的任务是标记出所有需要被回收的对象，清除阶段就是回收被标记的对象所占用的空间<br>Mark-Compact（标记-整理）:标记之后，将存活对象都向一端移动，然后清理掉端边界以外的内存</p>
</blockquote>
<h2 id="3-HotSpot几种垃圾收集器"><a href="#3-HotSpot几种垃圾收集器" class="headerlink" title="3). HotSpot几种垃圾收集器"></a>3). HotSpot几种垃圾收集器</h2><p><img src="https://github.com/PeterLee08/resources/blob/master/icon/png/java/gc.png?raw=true" alt="gc"><br><a href="https://www.jianshu.com/p/b4a03b5de0d9" target="_blank" rel="noopener">简书介绍: https://www.jianshu.com/p/b4a03b5de0d9</a></p>
<h2 id="4-分代收集"><a href="#4-分代收集" class="headerlink" title="4). 分代收集"></a>4). 分代收集</h2><p>JVM 采用了分代收集以后，minor gc 只扫描新生代，但是minor gc 怎么判断是否有老生代的对象引用了新生代的对象，JVM 采用了卡片标记的策略，卡片标记将老生代分成了一块一块的，划分以后的每一个块就叫做一个卡片，JVM采用卡表维护了每一个块的状态，当JAVA 程序运行的时候，如果发现老生代对象引用或者释放了新生代对象的引用，那么就JVM 就将卡表的状态设置为脏状态，这样每次minor gc 的时候就会只扫描被标记为脏状态的卡片，而不需要扫描整个堆。具体如下图：  </p>
<p><img src="https://github.com/PeterLee08/resources/blob/master/icon/png/java/beyond.png?raw=true" alt="beyond"></p>
<h2 id="5-不同引用回收策略"><a href="#5-不同引用回收策略" class="headerlink" title="5). 不同引用回收策略"></a>5). 不同引用回收策略</h2><p>4中不同Strong reference,Soft reference,Weak reference,Phantom reference</p>
<ul>
<li>强引用 Strong reference: 平常对象引用    </li>
<li><p>软引用 Soft reference, 只有在内存不足的时候JVM才会回收该对象,适用于有用但是并非必须的对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SoftReference&lt;Web&gt; webRef = <span class="keyword">new</span> SoftReference&lt;Web&gt;(web); </span><br><span class="line"><span class="keyword">if</span> (webRef.get() != <span class="keyword">null</span>)&#123; </span><br><span class="line">    webr = webRef.get();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">//如果被回收了使用前创建一下</span></span><br><span class="line">    webRef = <span class="keyword">new</span> SoftReference&lt;Web&gt;(<span class="keyword">new</span> Web());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>弱引用Weak reference: 一旦发现了只具有弱引用的对象,即回收 ‘与用完立即置null类似?’</p>
</li>
<li>虚引用Phantom reference: 不影响生存时间,唯一影响就是回收时收到系统通知</li>
</ul>
<h1 id="三-jvm调优参数"><a href="#三-jvm调优参数" class="headerlink" title="三. jvm调优参数"></a>三. jvm调优参数</h1><h2 id="1-jvm-参数图解"><a href="#1-jvm-参数图解" class="headerlink" title="1. jvm 参数图解"></a>1. jvm 参数图解</h2><p><img src="https://github.com/PeterLee08/resources/blob/master/icon/png/java/jvm_generation.png?raw=true" alt="分代实现"></p>
<h2 id="2-设置server模式"><a href="#2-设置server模式" class="headerlink" title="2. 设置server模式"></a>2. 设置server模式</h2><h2 id="3-其他常用"><a href="#3-其他常用" class="headerlink" title="3. 其他常用"></a>3. 其他常用</h2><table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-Xmn</td>
<td>新生代大小</td>
<td></td>
<td>Sun官方推荐配置为整个堆的3/8</td>
</tr>
<tr>
<td>-XX:NewRatio</td>
<td>新生代与老生代的比值(除去持久代)</td>
<td></td>
<td>-XX:NewRatio=4表示年轻代与年老代所占比值为1:4,年轻代占整个堆栈的1/5 (Xms=Xmx并且设置了Xmn的情况下，该参数不需要进行设置)</td>
</tr>
<tr>
<td>-XX:SurvivorRatio</td>
<td>Eden区与Survivor区的大小比值</td>
<td></td>
<td>设置为8,则两个Survivor区与一个Eden区的比值为2:8,一个Survivor区占整个年轻代的1/10, 如果临时对象较少,回收较少则调大survivor区比例</td>
</tr>
<tr>
<td>-XX:MaxTenuringThreshold</td>
<td>垃圾最大年龄</td>
<td></td>
<td>如果设置为0的话,则年轻代对象不经过Survivor区,直接进入年老代. 对于年老代比较多的应用,可以提高效率.如果将此值设置为一个较大值,则年轻代对象会在Survivor区进行多次复制,这样可以增加对象再年轻代的存活 时间,增加在年轻代即被回收的概率,该参数只有在串行GC时才有效.</td>
</tr>
<tr>
<td>-XX:PretenureSizeThreshold</td>
<td>对象超过多大是直接在旧生代分配</td>
<td>0</td>
<td>单位字节 新生代采用Parallel Scavenge GC时无效 另一种直接在旧生代分配的情况是大的数组对象,且数组中无外部引用对象.</td>
</tr>
<tr>
<td>-XX:+PrintGC</td>
<td></td>
<td></td>
<td>输出形式:[GC 118250K-&gt;113543K(130112K), 0.0094143 secs][Full GC 121376K-&gt;10414K(130112K), 0.0650971 secs]</td>
</tr>
<tr>
<td>XX:+PrintGCDetails</td>
<td></td>
<td></td>
<td>输出形式:[GC [DefNew: 8614K-&gt;781K(9088K), 0.0123035 secs] 118250K-&gt;113543K(130112K), 0.0124633 secs][GC [DefNew: 8614K-&gt;8614K(9088K), 0.0000665 secs][Tenured: 112761K-&gt;10414K(121024K), 0.0433488 secs] 121376K-&gt;10414K(130112K), 0.0436268 secs]</td>
</tr>
<tr>
<td>-XX:+PrintGCApplicationStoppedTime</td>
<td>打印垃圾回收期间程序暂停的时间.可与上面混合使用</td>
<td></td>
<td>输出形式:Total time for which application threads were stopped: 0.0468229 seconds</td>
</tr>
<tr>
<td>-XX:+PrintGCApplicationConcurrentTime</td>
<td>打印每次垃圾回收前,程序未中断的执行时间.可与上面混合使用</td>
<td></td>
<td>输出形式:Application time: 0.5291524 seconds</td>
</tr>
<tr>
<td>-XX:+PrintHeapAtGC</td>
<td>打印GC前后的详细堆栈信息</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>-Xloggc:filename</td>
<td>把相关日志信息记录到文件以便分析.</td>
<td></td>
<td>与上面几个配合使用</td>
</tr>
<tr>
<td>-XX:+PrintClassHistogram</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="四-jvm监控工具"><a href="#四-jvm监控工具" class="headerlink" title="四. jvm监控工具"></a>四. jvm监控工具</h1><p>待完善<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">jmap  -heap             显示内存使用情况</span><br><span class="line">      -histo[:live]     显示对象[:仅生存]数量内存占用等</span><br><span class="line">      -dump             dump 堆栈信息</span><br><span class="line">jhat  分析jmap导出dump文件 </span><br><span class="line">jstack                  分析死锁,和代码位置</span><br><span class="line"></span><br><span class="line">jvisualvm               jdk可视化性能分析工具,非常好用,类似jprofile:</span><br><span class="line">                        也可分析远程主机,需要在远程主机上运行 jstatd 守护程序</span><br><span class="line"></span><br><span class="line">jcmd            jcmd拥有jmap的大部分功能,提供了监视native 内存的方法</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">linux 系统级监控:</span><br><span class="line">top                     基本包含了所有概要信息</span><br><span class="line">pmap                    映射对应地址 信息</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>其他(以后整理)</p>
<ul>
<li>热加载无卸载影响永生代空间累积</li>
<li>老生代做缓存</li>
<li>不用时置为null</li>
<li>超大对象一般直接生成老生代</li>
</ul>
</blockquote>
<style type="text/css">
blockquote p, ul li{
    text-align:left;
}
</style>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://qifeng.github.io/2018/05/13/jvm/" data-id="cji8b00yw00012ko7uwpps2nr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/18/hello-world/" class="article-date">
  <time datetime="2017-12-17T16:00:00.000Z" itemprop="datePublished">2017-12-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/18/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://qifeng.github.io/2017/12/18/hello-world/" data-id="cji8b00yr00002ko7e8wqsn3y" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/06/10/人脸检测/">人脸检测</a>
          </li>
        
          <li>
            <a href="/2018/06/10/spring日志/">spring日志</a>
          </li>
        
          <li>
            <a href="/2018/05/24/python_note/">pythhon 随手记</a>
          </li>
        
          <li>
            <a href="/2018/05/13/jvm/">jvm内存模型</a>
          </li>
        
          <li>
            <a href="/2017/12/18/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>